import { Opt } from "@/components/com/Opt.js";
import ruleOpt from "@/option/rule";
let userData = {};
// ÂßìÂêç ÊâãÊú∫Âè∑Êü•ËØ¢ÂëòÂ∑•
function getNameOrPhone(workNo, params) {
    let data = {
        workNo,
        ...params,
    };
    return employeeMgr.getDtUserByWorkNoReturnFun(data).then((res) => {
        return (
            res &&
            res.map((item) => {
                item.key = item.userId;
                item.value = item.userName + "-" + item.workNo;
                return item;
            })
        );
    });
}
export class editOpt extends Opt {
    create() {
        let authOrgEdit = {
            title: "Êï∞ÊçÆÊùÉÈôê",
            key: "authOrg",
            visible: this.info.dataAuth == 2,
            select: {
                options: [],
                multiple: true,
                showCheckbox: true,
            },
            load: (o) => {},
            // rules: [ruleOpt.required("ÊâÄÂ±ûÁªÑÁªá‰∏çËÉΩ‰∏∫Á©∫", "array")],
        };
        let authOrgTxt = {
            title: "Êï∞ÊçÆÊùÉÈôê",
            visible: this.info.dataAuth != 2,
            key: "dataAuthStr",
            text: {},
        };
        return [
            {
                title: "ÊâÄÂ±ûÁªÑÁªá",
                key: "orgIds",
                tree: {
                    saveAll: true,
                    options: [],
                    searchBtn: true,
                },
                load: (o) => {
                    console.log("üöÄ ~ addOpt ~ create ~ o:", o);
                    o.tree.options = [
                        {
                            id: "1",
                            label: "‰∏ÄÁ∫ß 1",
                            children: [
                                {
                                    id: "1-1",
                                    label: "‰∫åÁ∫ß 1-1",
                                    children: [
                                        {
                                            id: "1-1-1",
                                            label: "‰∏âÁ∫ß 1-1-1",
                                        },
                                        {
                                            id: "1-1-2",
                                            label: "‰∏âÁ∫ß 1-1-2",
                                        },
                                        {
                                            id: "1-1-3",
                                            label: "‰∏âÁ∫ß 1-1-3",
                                        },
                                    ],
                                },
                            ],
                        },
                        {
                            id: "2",
                            label: "‰∏ÄÁ∫ß 2",
                            children: [
                                {
                                    id: "2-1",
                                    label: "‰∫åÁ∫ß 2-1",
                                    children: [
                                        {
                                            id: "2-1-1",
                                            label: "‰∏âÁ∫ß 2-1-1",
                                        },
                                    ],
                                },
                            ],
                        },
                    ];
                },
            },
            {
                title: "ÂëòÂ∑•",
                key: "dtUserId",
                placeholder: "ËØ∑ËæìÂÖ•Â∑•Âè∑ÊàñÂßìÂêç",
                select: {
                    filterable: true,
                    options: [],
                    remote: (key) => {},
                },
                change: (d) => {
                    let obj = userData.find((item) => item.userId == d.value);
                    d.info.orgCompanyId = obj.companyId;
                    d.info.companyName = obj.companyName;
                    d.info.orgDivisionId = obj.divisionId;
                    d.info.phone = obj.phone;
                    d.info.userName = obj.userName;
                    d.info.workNo = obj.workNo;
                    if (d.info.dataAuth == 3) {
                        d.info.dataAuthStr = d.info.companyName;
                    }
                },
                rules: [ruleOpt.required("ÂëòÂ∑•‰∏çËÉΩ‰∏∫Á©∫")],
            },
            {
                title: "ÊâãÊú∫Âè∑",
                key: "phone",
                text: { tooltip: false },
            },
            {
                title: "Êó∂Èó¥",
                key: "day",
                date: { type: "daterange" },
            },
            {
                title: "ÊâÄÂ±ûÁªÑÁªá",
                key: "companyName",
                text: {},
            },

            authOrgEdit,
            authOrgTxt,
            {
                title: "‰∫∫ÂëòÁä∂ÊÄÅ",
                key: "state",
                radio: {
                    options: [
                        {
                            value: "ÂêØÁî®",
                            key: 1,
                        },
                        {
                            value: "Á¶ÅÁî®",
                            key: 0,
                        },
                    ],
                },
            },
        ];
    }
}

export class addOpt extends Opt {
    create() {
        let authOrgEdit = {
            title: "Êï∞ÊçÆÊùÉÈôê",
            key: "authOrg",
            visible: this.info.dataAuth == 2,
            select: {
                options: [],
                multiple: true,
                showCheckbox: true,
            },
            load: (o) => {},
            // rules: [ruleOpt.required("ÊâÄÂ±ûÁªÑÁªá‰∏çËÉΩ‰∏∫Á©∫", "array")],
        };
        let authOrgTxt = {
            title: "Êï∞ÊçÆÊùÉÈôê",
            visible: this.info.dataAuth != 2,
            key: "dataAuthStr",
            text: {},
        };
        return [
            {
                title: "treeSelect",
                key: "sealId",
                col: 24,
                treeSelect: {
                    data: [],
                    multiple: true,
                },
                load: (o) => {
                    o.treeSelect.data = [
                        {
                            value: "curSeal",
                            title: "ÂΩìÂâçÁªÑÁªáÂç∞Á´†",
                            disabled: true,
                            expand: true,
                            children: [
                                {
                                    value: 1212,
                                    title: "111",
                                },
                                {
                                    value: 2323,
                                    title: "222",
                                },
                            ],
                        },
                        {
                            value: "otherSeal",
                            title: "ÂÖ∂ÂÆÉÁªÑÁªáÂç∞Á´†",
                            disabled: true,
                            expand: true,
                            children: [],
                        },
                    ];
                },
                change: (val) => {
                    console.log("üöÄ ~ addOpt ~ create ~ val:", val);
                    // _this.changeSeal(val);
                },
                rules: [ruleOpt.required("treeselect‰∏çËÉΩ‰∏∫Á©∫", "array")],
            },
            {
                title: "cascader",
                placeholder: "ËØ∑ÈÄâÊã©cascader",
                key: "cascaderIds",
                cascader: {
                    filterable: true,
                    changeOnSelect: true,
                    expandTrigger: "hover",
                    multiple: true,
                    emitPath: true,
                    value: "value",
                    lable: "label",
                    chilidren: "children",
                    options: [
                        {
                            value: "1",
                            label: "‰∏ÄÁ∫ß 1",
                            children: [
                                {
                                    value: "1-1",
                                    label: "‰∫åÁ∫ß 1-1",
                                    children: [
                                        {
                                            value: "1-1-1",
                                            label: "‰∏âÁ∫ß 1-1-1",
                                        },
                                        {
                                            value: "1-1-2",
                                            label: "‰∏âÁ∫ß 1-1-2",
                                        },
                                        {
                                            value: "1-1-3",
                                            label: "‰∏âÁ∫ß 1-1-3",
                                        },
                                    ],
                                },
                            ],
                        },
                        {
                            value: "2",
                            label: "‰∏ÄÁ∫ß 2",
                            children: [
                                {
                                    value: "2-1",
                                    label: "‰∫åÁ∫ß 2-1",
                                    children: [
                                        {
                                            value: "2-1-1",
                                            label: "‰∏âÁ∫ß 2-1-1",
                                        },
                                    ],
                                },
                            ],
                        },
                    ],
                },
            },

            {
                title: "ÂëòÂ∑•",
                key: "dtUserId",
                placeholder: "ËØ∑ËæìÂÖ•Â∑•Âè∑ÊàñÂßìÂêç",
                select: {
                    filterable: true,
                    options: [],
                    remote: (key) => {},
                },
                change: (d) => {
                    let obj = userData.find((item) => item.userId == d.value);
                    d.info.orgCompanyId = obj.companyId;
                    d.info.companyName = obj.companyName;
                    d.info.orgDivisionId = obj.divisionId;
                    d.info.phone = obj.phone;
                    d.info.userName = obj.userName;
                    d.info.workNo = obj.workNo;
                    if (d.info.dataAuth == 3) {
                        d.info.dataAuthStr = d.info.companyName;
                    }
                },
                rules: [ruleOpt.required("ÂëòÂ∑•‰∏çËÉΩ‰∏∫Á©∫")],
            },
            {
                title: "Êó•Êúü",
                key: "day1",
                date: {
                    type: "date",
                },
                // disabled: true,
                placeholder: "Êó•Êúü",
                rules: [ruleOpt.required("Êó•Êúü‰∏çËÉΩ‰∏∫Á©∫", "date")],
            },
            {
                title: "Êó∂Èó¥1",
                key: "day1",
                date: { type: "daterange" },
            },
            {
                title: "Êó∂Èó¥2",
                key: "day2",
                TimePicker: {},
            },
            {
                title: "Êó∂Èó¥3",
                key: "day3",
                TimePicker: { type: "timerange" },
            },
            {
                title: "ÊâãÊú∫Âè∑",
                key: "phone",
                text: { tooltip: false },
            },
            {
                title: "ÊâÄÂ±ûÁªÑÁªá",
                key: "companyName",
                text: {},
            },

            authOrgEdit,
            authOrgTxt,
            {
                title: "‰∫∫ÂëòÁä∂ÊÄÅ",
                key: "state",
                radio: {
                    options: [
                        {
                            value: "ÂêØÁî®",
                            key: 1,
                        },
                        {
                            value: "Á¶ÅÁî®",
                            key: 0,
                        },
                    ],
                },
            },
        ];
    }
}
